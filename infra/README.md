# infra

## Общее описание

- Репозиторий содержит `ansible` роли для инфраструктурных сервисов;
- Каждая роль отвечает за доставку сервиса на сервер;
- Каждая роль является идемпотентной;
- Просмотреть список ролей можно в директории `ansible/roles`;
- Роли запускаются с использованием `playbooks` расположенных по пути `ansible/*.yml`;
- Деплой производится автоматически;
- На каждый сервис и, соответственно, на роль создана отдельная задача в `gitlab-ci`;
- Для передачи переменных используются `--extra-vars`.

## TODO

1. Вынесение общих частей gitlab-ci в якоря;
2. Более гибкая настройка сервисов через роли;
3. Yaml-lint;
4. Ansible-lint;
5. Tests.
